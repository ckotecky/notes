2022-12-12
PÅ™ednÃ¡Å¡ka #10
-------------




HashovacÃ­ funkce
================


Df: HashovacÃ­ funkce
--------------------
- `|U| = m,   |V| = n` mnoÅ¾iny
- SystÃ©m funkcÃ­ `H âŠ† \{f: f:U -> V\}` je:

1. **2-univerzÃ¡lnÃ­** systÃ©m hashovacÃ­ch funkcÃ­, pokud:
	- `âˆ€ x_1, x_2 âˆˆ U,   x_1 = x_2`
	- `h` uniformnÄ› nÃ¡hodnÄ› vybranÃ© z `H`
	+ `=>   P_{h âˆˆ H}[h(x_1) = h(x_2)] â‰¤ 1/n`
2. **SilnÄ› 2-univerzÃ¡lnÃ­** systÃ©m hashovacÃ­ch funkcÃ­ (po dvou nezÃ¡vislÃ½ch), pokud:
	- `âˆ€ x_1, x_2 âˆˆ U,   x_1 = x_2,   y_1, y_2 âˆˆ V`
	- `h` uniformnÄ› nÃ¡hodnÄ› vybranÃ© z `H`
	+ `=>   P_{h âˆˆ H}[h(x_1) = y_1   âˆ§   h(x_2) = y_2] = 1/n^2`


Pz: HashovacÃ­ funkce
--------------------
1. `âˆ€` systÃ©m `H  âˆƒ x_1, x_2 âˆˆ U,   x_1 = x_2:   P_{h âˆˆ H}[h(x_1) = h(x_2)] â‰¥ 1/n - 1/m` 
2. `H` silnÄ› 2-univerzÃ¡lnÃ­   `<=>   \{h(x) :   x âˆˆ N\}` po dvou nezÃ¡vislÃ© nÃ¡hodnÃ© promÄ›nnÃ© uniformnÃ­ distirbuce.



PÅ™: Konstrukce silnÄ› 2-univerzÃ¡lnÃ­ho systÃ©mu
--------------------------------------------
- `U = V = ğ•‹` tÄ›leso
- `H = \{f_{c,d}:   c,d âˆˆ ğ•‹\}`

+ PouÅ¾ijeme lineÃ¡rnÃ­ polynomy jako mnoÅ¾inu hashovacÃ­ch funkcÃ­
	- `f_{c,d}: x |-> cx + d` nad `ğ•‹`
	- `âˆ€c,d âˆˆ ğ•‹   âˆƒ! f` pÅ™Ã­mka, kterÃ¡ je protÃ­nÃ¡.

	+ `c,d âˆˆ V,   |V| = n   =>   # f_{c,d}` je `n^2`

- Pro `|ğ•‹| = p^k`
	- Prvky `ğ•‹` polynomy nad `GF_p` stupnÄ› `â‰¤ k - 1`
	- SÄÃ­tÃ¡nÃ­ `f+g:   ->   f(x) + g(x)`
	- NÃ¡sobenÃ­ `f * g   ->   f(x) * g(x)   mod r`
		+ Pro `r` ireducibilnÃ­ polynom stupnÄ› `k`.
		+ Jinak bychom mÄ›li `p_1 * p_2 = r   mod r = 0`

- Pro `|U| >> |V|`
	- ZvolÃ­me `h':U -> U`
	- Jako `h:U -> V` zavedeme `h(x) = h(x)' mod n`
	
	+ `H'` silnÄ› 2-univerzÃ¡lnÃ­  
		1. `=>   H` slabÄ› 2-univerzÃ¡lnÃ­
		2. `=>   H` silnÄ› 2-univerzÃ¡lnÃ­, pokud `n|m`

+ V nÄ›kterÃ½ch slovnÃ­cÃ­ch je potÅ™eba 4-univerzÃ¡lnÃ­ hashovÃ¡nÃ­





Df: DynamickÃ½ slovnÃ­k
---------------------
+ `S âŠ† U,   |S| = s`

- Operace (v prÅ¯mÄ›ru `O(1)`):
	1. VklÃ¡dÃ¡nÃ­
	2. VyhledÃ¡vÃ¡nÃ­
	3. MazÃ¡nÃ­

- Konstrukce:
	+ ZvolÃ­me `n âˆˆ [s, 2s]`.
		* MÅ¯Å¾eme nahradit dvojnÃ¡sobnou tabulkou v prÅ¯bÄ›hu v pÅ™Ã­padÄ› potÅ™eby.
		* MÅ¯Å¾eme i zmenÅ¡ovat.
	+ ZvolÃ­me `h âˆˆ H` uniformnÄ› nÃ¡hodnÄ›.
	+ HashovacÃ­ tabulka velikosti `s`.
	+ `âˆ€` polÃ­Äko spojovÃ½ seznam.
	
- Prostor `O(s)`.



Lm: ÄŒas operace dynamickÃ©ho slovnÃ­ku
------------------------------------
- `n = Î˜(s)   =>`   prÅ¯mÄ›rnÃ¡ doba operace je `O(1)`

### DÅ¯kaz:
+ Operace s `x` trvÃ¡ `n_{h(x)}`

- `âˆ€ x âˆˆ S:   ğ”¼[n_{h(x)}] = O(1)`
- `X_y = \{`
	+ `1 		h(y) = h(x)`
	+ `0` 		jinak
- `âˆ€x,y,  x â‰  y: h(x), h(y)` jsou nezÃ¡vislÃ©
- `ğ”¼[X_y] = 1/n`
- `ğ”¼[n_{h(x)}]   =   1 + Î£_{y â‰  x} ğ”¼[X_y]   =   1 + (s - 1)/n   =   O(1)`
	+ Pokud `S = O(n)`
	+ AspoÅˆ 1 operaci potÅ™ebujem vÅ¾dy



Df: Kolize
----------
- `C_h = \{ \{y,x\} âˆˆ S^2 :   x â‰  y   âˆ§   h(x) = h(y)\}` pro `h âˆˆ H`



Df: StatickÃ½ slovnÃ­k
--------------------
+ `S` pevnÃ©, `|S| = s`
+ `n = O(s)`

- Operace (nejhÅ¯Å™ `O(1)`):
	1. VyhledÃ¡vÃ¡nÃ­
	
- Konstrukce
	+ Pro polÃ­Äko `a` do kterÃ©ho se zobrazÃ­ `a_i` pÅ™idÃ¡me hashovacÃ­ tabulku o `~ a_i^2` prvcÃ­ch.
	+ Mezi `a_i^2` a `2 * a_i^2` najdeme mocninu dvojky.
	+ Pro polÃ­Äko vybereme funkci `h_i âˆˆ H_i`.
	+ NesmÃ­ bÃ½t kolize.
	
- HledÃ¡nÃ­ primÃ¡rnÃ­ `h`
	+ ZvolÃ­me `h:   C_h â‰¤ n`
	+ Pro `n â‰¥ |S|   =>   #` kolizÃ­ `â‰¤ n/2`
	
- HledÃ¡nÃ­ sekundÃ¡rnÃ­ch `h_i`
	+ Vybereme `h_i:   |C_{h_i}| = 0`
	+ Pokud nastane kolize, zmÄ›nÃ­me na `h_j`

- Prostor:
	+ CelkovÃ½ prostor zÃ¡leÅ¾Ã­ na poÄtu kolizÃ­ primÃ¡rnÃ­ hashovacÃ­ funkce, tj `Î£ a_i^2`



Lm: Kolize primÃ¡rnÃ­ hashovacÃ­ funkce
------------------------------------
- `H` je 2-univerzÃ¡lnÃ­ `=>   ğ”¼_{h âˆˆ H}[|C_h|] â‰¤ (|S|   2) * 1/2`
- V prÅ¯mÄ›ru vyzkouÅ¡Ã­me dvÄ› hashovacÃ­ funkce,  neÅ¾ najdeme dobrou.

### DÅ¯kaz:
- Pro kaÅ¾dou dvojici `x,y` je pravdÄ›podobnost kolize `1/n`.
- `n â‰¥ s   =>   ğ”¼_{h âˆˆ H}[|C|] â‰¤ (n   2) * 1/n < n/2`
- Z Markovovy nerovnosti `P_{h âˆˆ H}[|C| â‰¥ n] â‰¤ 1/2`



Lm: Kolize sekundÃ¡rnÃ­ hashovacÃ­ funkce
--------------------------------------
- `ğ”¼_{h âˆˆ H}[|C_{h_i}|] = (a_i   2) * 1/a_i^2 < 1/2`

### DÅ¯kaz:
- Z Markovovy nerovnosti `P_{h_i âˆˆ H_i}[C_{h_i} = âˆ…] â‰¥ 1/2`
 

Pz: Kolize ve statickÃ©m slovnÃ­ku
--------------------------------
- `|C_h|   =   Î£_{i âˆˆ [n]} (a_i   2)   =   Î£_{i âˆˆ [n]} a_i^2/2 - Î£_{i âˆˆ [n]} a_i / 2   =>   Î£_{i âˆˆ [n]} a_i^2 â‰¤ 2 * |C| + Î£_{i âˆˆ [n]} n_i   â‰¤   2s + s = O(s)`