2022-12-05
PÅ™ednÃ¡Å¡ka #10
-------------


ParalelnÃ­ algoritmy
===================


Df: PRAM model
--------------
- VÃ­ce procesorÅ¯
	+ MajÃ­ pÅ™Ã­stup ke spoleÄnÃ© pamÄ›Å¥i
	+ PracujÃ­ synchronnÄ›
	+ ZnajÃ­ svÅ¯j Äas
	+ MajÃ­ stejnÃ© operace

- MÄ›Å™Ã­me:
	+ ÄŒas
		- Chceme logaritmickÃ½
		- ReÃ¡lnÄ› oÄekÃ¡vÃ¡me polynomiÃ¡lnÃ­
	+ PoÄet procesorÅ¯
		- Chceme polynomiÃ¡lnÃ­

1. Procesory majÃ­ ÄÃ­sla
	- SeÄÃ­st je umÃ­me v logaritmickÃ©m ÄÃ­sle
	
2. Nebo majÃ­ prefix sum
	- ÄŒÃ­slo procesoru sÄÃ­tÃ¡ pÅ™edeÅ¡lÃ¡ ÄÃ­sla
	- SpoÄÃ­tÃ¡me v logaritmickÃ©m Äase
		- V logaritmickÃ©m stromu sÄÃ­tancÅ¯ pak jdeme zpÃ¡tky k listÅ¯m (procesorÅ¯m) a pÅ™iÄteme jejich ÄÃ­slo k ÄÃ­slu rodiÄe

Df: DÄ›lÃ­cÃ­ model
----------------
- Implemetace simultÃ¡lnÃ­ch ÄtenÃ­ / zÃ¡pisÅ¯.
- SimultÃ¡lnÃ­ zÃ¡pis nebo ÄtenÃ­ vÃ­ce procesorÅ¯ do stejnÃ© buÅˆky pamÄ›ti.
	- NezÃ¡leÅ¾Ã­ na implementaci.



MaximÃ¡lnÃ­ nezÃ¡vislÃ¡ mnoÅ¾ina
===========================



Pb: MaximÃ¡lnÃ­ nezÃ¡vislÃ¡ mnoÅ¾ina (Maximal independent set - MIS)
---------------------------------------------------------------
- SekvenÄnÄ› jednoduchÃ©
	- Vybereme vrchol, vyÅ¡krtÃ¡me sousedy, pokraÄujeme.
- Graf mÅ¯Å¾e reprezentovat konflikty mezi procesy apod.
- Nelze jednoduÅ¡e aproximovat, Å¡patnÃ½ aproximaÄnÃ­ pomÄ›r.


Alg: Paralelizace
-----------------
1. Vybereme nezÃ¡vislou mnoÅ¾inu
2. Sousedy vyÅ¡krtÃ¡me
3. Chceme graf rychle zmenÅ¡ovat v kaÅ¾dÃ©m kroku (ideÃ¡lnÄ› tÅ™eba na polovinu)


Df: ZnaÄenÃ­
-----------
1. `d_v :=` aktuÃ¡lnÃ­ stupeÅˆ vrcholu `v`
2. `N(v) := ` mnoÅ¾ina sousedÅ¯ vrcholu `v`


Alg: MaximÃ¡lnÃ­ nezÃ¡vislÃ¡ mnoÅ¾ina
--------------------------------
- Vstup: `G = (V, E)`

1. `I := âˆ…`
2. Opakujeme dokud `V â‰  âˆ…`:
3. 		`âˆ€v âˆˆ V` paralelnÄ›:
4. 			Pokud `d_v = 0`
5. 				`I = I âˆª \{v\}`
6. 				`V = V \ \{v\}`
7. 		`âˆ€v âˆˆ V` paralelnÄ›:
8. 			NezÃ¡visle s pravdÄ›podobnostÃ­ `p_v = 1 / 2d_v` oznaÄÃ­me vrchol `v`
9. 		`âˆ€ \{uv\} âˆˆ E` paralelnÄ›:
10. 			Pokud `u` i `v` jsou oznaÄenÃ©:
11. 			SmaÅ¾eme znaÄku vrcholu niÅ¾Å¡Ã­ho stupnÄ›
12. 		`S :=` oznaÄenÃ© vrcholy
13.  		`E = \{\{uv\} âˆˆ E: u âˆ‰ S âˆª N(S)   âˆ§   v âˆ‰ S âˆª N(S) \}`
14.  		`V = V \ (S âˆª N(S))`
15.  		`I = I âˆª S`
16. VrÃ¡tÃ­me `I`



Pz: MaximÃ¡lnÃ­ nezÃ¡vislÃ¡ mnoÅ¾ina
-------------------------------
1. PotÅ™ebujeme polynomiÃ¡lnÄ› procesorÅ¯
2. PotÅ™ebujeme poly-logaritmickÃ½ Äas na cyklus
3. VÃ½sledek je maximÃ¡lnÃ­ nezÃ¡vislÃ¡ mnoÅ¾ina


Pz: Volba parametru `p_v`
------------------------
1. `K_n`
	- Chceme vybrat prÃ¡vÄ› jeden, nebo nejvÃ½Å¡ dva vrcholy
	- `1/n`
2. PÃ¡rovÃ¡nÃ­
	- `1/2` nebo nÄ›jakou konstantu
- Proto `1 / 2d_v`


Pz: Å ance odstranÄ›nÃ­
--------------------
- Vrchol `v` oznaÄenÃ½ `=> P[v âˆˆ S `   po kroku   ` 12] â‰¥ 1/2`

### DÅ¯kaz:
+ Vrchol ztratÃ­ znaÄku, pokud je oznaÄenÃ½ soused vyÅ¡Å¡Ã­ho stupnÄ›.
+ PravdÄ›podobnosti `1/2d_v` povaÅ¾ujeme za nezÃ¡vislÃ©.
- `P[`oznaÄÃ­me souseda`]  â‰¤  Î£_{w: vw âˆˆ E, d_w â‰¥ d_v} p_w  â‰¤  Î£_{} 1/2d_v  â‰¤  d_v * 1/2d_v  =  1/2`


Df: DobrÃ½ a Å¡patnÃ½ vrchol
-------------------------
1. Vrchol `v` je "dobrÃ½", pokud mÃ¡ `â‰¥ d_v/3` sousedÅ¯ stupnÄ› `â‰¤ d_v`
2. Jinak je Å¡patnÃ½


Df: DobrÃ¡ a Å¡patnÃ¡ hrana
------------------------
1. Hrana `\{uv\}` je dobrÃ¡, pokud je `u` nebo `v` dobrÃ½
2. Jinak je Å¡patnÃ¡


Pz: DobrÃ½ vrchol
----------------
- `v` je dobrÃ½  `=>  p = P[`v kroku 8 oznaÄÃ­me aspoÅˆ jednoho souseda`] â‰¥ Î² > 0.15`

### DÅ¯kaz:
- `p  â‰¥  1 - Ï€_{w âˆˆ N(v)} (1 - 1/2d_w)  â‰¥  1 - Ï€_{w âˆˆ N(v): d_w â‰¤ d_v} (1 - 1/2d_w) â‰¥ 1 - (1 - 1/2d_v)^{d_v/3}  â‰¥  1 - e^{-1/6}`
- `1 - Ï€_{w âˆˆ N(v)} (1 - 1/2d_w)` opak Å¡ance, Å¾e neoznaÄÃ­me Å¾Ã¡dnÃ©ho souseda.	

Pz: HvÄ›zda
----------
- HvÄ›zda mÃ¡ mÃ¡lo dobrÃ½ch vrcholÅ¯ - dobrÃ½ je jen prostÅ™ednÃ­.


Lm: DobrÃ¡ hrana
---------------
- `|\{e âˆˆ E: Â¶e je dobrÃ¡Â¶\}| â‰¥ |E|/2`

### DÅ¯kaz:
- Zorientujeme hrany `{u,v} -> (u,v): d_u â‰¤ d_v`
- BuÄ `v` Å¡patnÃ½ vrchol
- Hran orientovanÃ½ch do nÄ›j je `â‰¤ d_v/3`, hran orientovanÃ½ch ven je `â‰¥ 2d_v/3`.
- KaÅ¾dÃ¡ Å¡patnÃ¡ hrana vede do Å¡patnÃ©ho vrcholu.
- Pro kaÅ¾dou vstupujÃ­cÃ­ Å¡patnou mÃ¡me aspoÅˆ dvÄ› vystupujÃ­cÃ­ dobrÃ©.
- BuÄ `B` Å¡patnÃ© vrcholy a `E_B` Å¡patnÃ© hrany.
- `|E_B| = Î£_{v âˆˆ B} d_v^{in} â‰¤ Î£_{v âˆˆ B} d_v^{out} / 2 â‰¤ |E|/2`


Vt: SloÅ¾itost
-------------
- `ğ”¼[`# cyklÅ¯`] â‰¤ O(log m)`

### DÅ¯kaz:
- `E_i` hrany po `i` cyklech
- AspoÅˆ polovina hran je dobrÃ½ch
- KaÅ¾dÃ¡ dobrÃ¡ hrana zmizÃ­ s pravdÄ›podobnostÃ­ aspoÅˆ `Î²/2`
- V prÅ¯mÄ›ru zmizÃ­ `Î²/4` ÄÃ¡st hran
- `ğ”¼[|E_{i + 1}|] â‰¤ (1 - Î²/4) * |E_i|`
- `ğ”¼[|E_i| â‰¤ (1 - Î²/4)^i * |E|  =>  ğ”¼[`# cyklÅ¯`] â‰¤ O(log m)`



Deranzomizace maximÃ¡lnÃ­ nezÃ¡vislÃ© mnoÅ¾iny 
=========================================



Nt: Po dvou nezÃ¡vislost
-----------------------
- PravdÄ›podobnostnÃ­ prostor jsou vrcholy `[n]`.
- Velikost `2^n`.
- Pro po dvou nezÃ¡vislost staÄÃ­ `n^2`.




Pz: Derandomizace
-----------------
- Pro oznaÄenÃ­ vrcholÅ¯ s pravdÄ›podobnostÃ­ `p_v` jen po dvou nezÃ¡visle staÄÃ­ polynomiÃ¡lnÃ­ prostor.
- PozorovÃ¡nÃ­ stÃ¡le platÃ­ i pro dvou-nezÃ¡vislost, kromÄ› poslednÃ­ho.



Pz: DobrÃ½ vrchol
----------------
- `v` je dobrÃ½  `=>  p = P[`v kroku 8 oznaÄÃ­m aspoÅˆ jednoho souseda`] â‰¥ Î² > 0.15`

### DÅ¯kaz:
- `A_w :=` algoritmus oznaÄil vrchol `w`
- `D := \{w: w âˆˆ N(v)   âˆ§   d_w â‰¤ d_v\}`
- `v` dobrÃ½ `=>   |D| â‰¥ d_v/3   =>   Î£_{w âˆˆ D} p_w   â‰¥   d_v/3 * 1/2d_v   =   1/6`

+ BuÄ `D' âŠ† D` do inkluze minimÃ¡lnÃ­ splÅˆujÃ­cÃ­ `Î£_{w âˆˆ D'} p_w â‰¥ 1/6`   -   splÅˆuje aspoÅˆ `D`.
+ Z miniality mÃ¡me:
1. `|D'| â‰¥ 2   =>   âˆ€w âˆˆ D':   p_w < 1/6`
2. `|D'| â‰¥ 3   =>   âˆƒw âˆˆ D':   p_w < 1/12   =>   Î£_{w âˆˆ D'} p_w < 1/6 + 1/12 = 1/4`
	
- UkÃ¡Å¾eme `P[âˆª_{w âˆˆ D'} A_w] â‰¥ 1/8` pomocÃ­ inkluze exkluze:
- `P[âˆª_{w âˆˆ D'} A_w]   â‰¥   Î£_{w âˆˆ D'} P[A_w] - 1/2 Î£_{w,u âˆˆ D':  u â‰  w} P[A_w âˆ© A_u]`
- `= Î£_{w âˆˆ D'} p_w - 1/2 Î£_{w,u âˆˆ D':  u â‰  w} p_w * p_u   â‰¥   Î£_{w âˆˆ D'} p_w (1 - 1/2 Î£_{u âˆˆ D'} p_u)`


1. `D = \{u\}   =>   P[âˆª_{w âˆˆ D'} A_w]    =    p_u â‰¥ 1/6`
2. `D' = \{u,v\}   =>   P[âˆª_{w âˆˆ D'} A_w]    =    (p_u + p_v) - p_u * p_v    â‰¥    1/6 - 1/36    >    1/8`
3. `|D| â‰¥ 3   =>   P[âˆª_{w âˆˆ D'} A_w]   â‰¥   Î£_{w âˆˆ D'} p_w (1 - 1/2 Î£_{u âˆˆ D'} p_u) â‰¥ 1/6 (1 - 1/4) = 1/8`








Df: Sylvestrova matice
----------------------
- Å˜Ã¡dky indexovanÃ© binÃ¡rnÃ­mi Å™etÄ›zci `u` dÃ©lky `d`
- Å˜Ã¡dky indexovanÃ© binÃ¡rnÃ­mi Å™etÄ›zci `v` dÃ©lky `t`
- Pozice `u,v = âŸ¨u,vâŸ© = (Î£_{i âˆˆ [t]} u_i v_i)   mod  2`


PÅ™: Sylvestrova matice
----------------------

- Graf:

| 0 | 0 | 0 | 0 | ... |
|---|---|---|---|-----|
| 0 | 0 | 1 | 1 | ... |
|---|---|---|---|-----|
| 0 | 1 | 1 | 1 | ... |

- Matice z nÄ›ho:

| 000 | 0 | 0 | 0 | 0 | 0 | 0 | 0 | 0 |
|-----|---|---|---|---|---|---|---|---|
| 001 | 0 | 1 | 0 | 1 | 0 | 1 | 0 | 1 |
|-----|---|---|---|---|---|---|---|---|
| 010 | 0 | 0 | 1 | 1 | 0 | 0 | 1 | 1 |
|-----|---|---|---|---|---|---|---|---|
| 010 | 0 | 1 | 1 | 0 | 0 | 1 | 1 | 0 |
|-----|---|---|---|---|---|---|---|---|
| ... | . | . | . | . | . | . | . | . |



PÅ™: Po dvou nezÃ¡vislost
-----------------------

- SilnÄ› 2-univerzÃ¡lnÃ­ systÃ©m heshovacÃ­ch funkcÃ­ `H:N -> N` (lze pro `N` tÄ›leso)
- Tabulka hrubej nÃ¡Ärt, no idea what this really is

|      | `h(0)` | `h(2)` | ... | `h(i)` | ... | `h(N)` |
|------|------|------|-----|------|-----|------|
|  `h1`  |      |      |  0  |  0   |     |      | 
|  `h2`  |      |      |  0  |  1   |     |      | 
|  ... |      |      |  1  |      |     |      | 
|`h âˆˆ H` |      |      |     |  `N-1` |     |      | 
|  ... |      |      |     |   0  |     |      | 
|`h{N^2}`|      |      | `N-1` |  `N-1` |     |      | 
