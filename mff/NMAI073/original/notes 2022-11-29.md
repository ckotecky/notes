2022-11-29
lecture #9
----------



Df: Poisson process properties
------------------------------
1. `ð”¼[Tk] = Î£ ð”¼[Li] = k/Î»`
2. `var[Tk] = Î£{i âˆˆ [k]} var[Li] = k/Î»^2`
3. `f{Tk}(t) = Î»^k * t^{k-1} * e^{-Î»t} / (k - 1)!` - Erlang distribution


Ex:
---
- queue of `k` people in front of an office
- the office is `~ Exp(Î»)`  where  `1/Î» = 1` minutes
- `Tk` = time at which are done
- `ð”¼[Tk] = k` minutes
- `P[Tk > k + 5] = âˆ«{k+5}^âˆž f{Tk}(t) dt`


Ob:
---
1. `k = 1  =>  Î»e^{-Î»t} ~ Exp(Î»)`
2. `k = 2  =>  f{Tk}(s) = âˆ«{0^s} f{Tk}(t) Î»e^{-Î»(s - t)} dt`


Ob:
---
- `P[t â‰¤ Tk â‰¤ t + Î´] = âˆ«_s^{s + Î´} f{Tk}(t) dt â‰ Î´ * f{Tk}(s)`
- `-> P[1 arrival  in [s, s + Î´]   âˆ§   k - 1 arrivals in [0, s]]`
- intervals are practically disjoint
- `= P[Ns = k - 1] * P[NÎ´ = 1] = e^{-Î»s} * (Î»s)^{k - 1} / (k - 1)! * e^{-Î»Î´} * Î» / 1! * Î´`
	+ `Ns ~ Pois(Î»s)`
	+ `NÎ´ ~ Pois(Î»Î´)`
	+ `e^{-Î»Î´} â‰ 1`
- in more rigorous terms `f(x) = lim{Î´ -> 0} 1/Î´ âˆ«_x^{x + Î´} f(t)`



Poisson process splitting
-------------------------


Ex: Poisson process splitting
-----------------------------
- packets arrive to a router according to `Pp(Î»)`
- each packet is (independent of everything) \{
	- local 			probability `p`
	- from outside  	probability `1 - p`
1. local pocket form 			`Pp(Î»p)`
2. outside pockets form 		`Pp(Î»(1 - p))`
	- the two are independent
1. waiting times for some packet 		`~ Exp(Î»)`
2. waiting times for local packet 		`~ Exp(Î»p)`
3. waiting times for outside packet 	`~ Exp(Î»(1 - p))`


Ob: Poisson process splitting
-----------------------------
- `P[k, Ï„]` for `Pp(Î»)`
- for local packets: `P[k arrivals] = Î£{n = k}^âˆž P[n, Ï„] * P[Bin(n, p) = k]`
	+ `P[n, Ï„]`  			n total packets
	+ `P[Bin(n, p) = k]`  	k of them are local
	1. this is some `= P'[k, Ï„]`
	2. independent
	3. `P'[k, Ï„] â‰¤ P[k, Ï„] = o(1)` for `k â‰¥ 2`
		- `P[1, Ï„] = Î»Ï„ * p + o(1)`


Ex:
---
- `X = #` of arrivals of local packets during time `[1,2]`
- `Y = #` of arrivals of outside packets during time `[1,2]`
- `X ~ Pois(Î»p)`
- `Y ~ Pois(Î»(1 - p))`
- are they independent?
+ independence `<=(def)=> P[X = k âˆ§ Y = l] = P[X = k] * P[Y = l]`
	- `P[X = k] * P[Y = l] = e^{-Î»p} * (Î»p)^k . k! * e^{-Î»(1 - p)} * (Î» (1 - p))^l / e!`
	- `P[X = k âˆ§ Y = l] = P[X + Y = k + l] * P[Bin(k + k, p) = k]`
		- `P[X + Y = k + l] = P[Pois(Î») = k + l]`
		- `P[Bin(k + k, p) = k] = P[X = k | X + Y = k + l]`
	- `e^{-Î»} Î»^{k + l} * (k + l)! * (k+l  k) * p^k * (1 - p)^l`


Poisson process merging
-----------------------


Ex: Poisson process merging
---------------------------
- people arriving at a post office
1. some are going to send a letter, they form `Pp(Î»)`
2. others want to pick up a letter, they form `Pp(Î»')`

1. we assume the groups are independent
- all together form `Pp(Î» + Î»')`
	- first arriving time for sending - `T ~ Exp(Î»)`
	- first arriving time for recieving - `T' ~ Exp(Î»')`
	- all together get arriving time `T1 = min(T, T')`
		+ => `P[T1 > t] = P[T > t âˆ§ T' > t] = P[T > t] * P[T' > t]`
		+ `= e^{-Î»t} * e^{-Î»'t} = e^{-(Î» + Î»')t}`
		+ => `T ~ Exp(Î» + Î»')`	

2. suppose `T1 = T' = t` (first custommer arrived at time t to recieve a letter)
	1. now waiting time for next person recieving is again `~ Exp(Î»')`
	2. `{T - t | T > t} ~ Exp(Î»)`
		- `P[T - t > s | T > t] = P[T > s + t âˆ§ t > t] / P[T > t] = e^{-Î»(s + t)} / e^{-Î»t} * e^{-Î»s}`
		- memoryless property of `Exp, Geom`


Ob: Poisson process merging
---------------------------
- merging processes `Pp(Î»)` for `Î»1, ..., Î»n`, we get `Pp(Î»1 + ... + Î»n)`


Ex: Poisson process merging
---------------------------
- three tellers at the bank
- each serves a customer in time `Exp(Î»)` where `1/Î» = 10` minutes
- people served by teller A `~ Pp(Î»)` => people served by A,B or C `~ Pp(Î» + Î» + Î») = Pp(3Î»)`
- => wating time `~ Exp(3Î»),  ð”¼ = 1/3Î» = 10/3` minutes
- => `P[waiting time â‰¥ 1/Î»] = e^{-3Î» * 1/Î»} = e^{-3} ~ 5%`
- `P[waiting time for B] = e^{-Î» * 1/Î»} = e^{-1} ~ 37%`


Ex: Poisson process merging
---------------------------
- a person being served by A,B and C - all are occupied
- we are the only one person in the queue
- `P[we are the last person to leave the bank] = 1/3`
- all are equally likely because of the memoryless property